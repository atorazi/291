<!--
SPDX-FileCopyrightText: Â© 2025 atorazi <atorazi@github.io>
SPDX-License-Identifier: MIT
-->

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ğŸ‚ ë¯¸ê¶ ì‹œë®¬ë ˆì´í„°</title>
  <link rel="stylesheet" href="./style.css">

  <style>
    /* â–¼â–¼ ì„±ì¥ë¥  ê³„ì‚°ê¸° ì „ìš© CSS í†µí•© â–¼â–¼ */
    .growth-box {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-bottom:15px;
    }
    .growth-box input {
      padding:8px;
      width:160px;
      border-radius:5px;
      border:1px solid #556;
      background:#0f1e3a;
      color:#eaf2ff;
    }
    .growth-box button {
      padding:8px 14px;
      background:#ffd447;
      border:none;
      color:#000;
      border-radius:5px;
      cursor:pointer;
      font-weight:bold;
    }
    .growth-table {
      margin-top:15px;
      background:#121a2b;
      padding:12px;
      border-radius:8px;
      line-height:1.6;
      white-space:pre-line;
    }
    .good { color:#9f6; font-weight:bold; }
    .bad { color:#ff7575; font-weight:bold; }

    /* íƒ­ ê¸°ë³¸ ì„¤ì • */
    .tab-content { display:none; }
    .tab-content.active { display:block; }
  </style>
</head>

<body>
  <div class="container">

    <!-- ğŸ“‚ ì™¼ìª½ íƒ­ -->
    <nav class="sidebar">
      <button id="tabHome" class="active">ğŸ  í™ˆ</button>
      <button id="tabAnsi">ğŸ¨ ë””ìŠ¤ì½”ë“œ í…ìŠ¤íŠ¸</button>
      <button id="tabExp">ğŸ“˜ ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</button>
      <button id="tabGrowth">ğŸ“Š ì„±ì¥ë¥  ê³„ì‚°ê¸°</button>

      <!-- â­ ìƒˆ ì°½ìœ¼ë¡œ ì˜¤ëª© AI ì—´ê¸° -->
      <button onclick="window.open('/291/omok/index.html', '_blank')">â­• ì˜¤ëª© AI</button>

      <!-- ì „íˆ¬ ì‹œë®¬ë ˆì´í„° -->
      <button onclick="window.location.href='/291/simulator.html'">âš”ï¸ ì „íˆ¬ ì‹œë®¬ë ˆì´í„°</button>
    </nav>

    <!-- ğŸ“ˆ ë©”ì¸ ì½˜í…ì¸  -->
    <main class="content">

      <!-- ğŸ  í™ˆ -->
      <section id="homeTab" class="tab-content active">
        <h2>ğŸ‚ ë¯¸ê¶ ì‹œë®¬ë ˆì´í„°</h2>
        <p>ìŠ¤í†¤ì—ì´ì§€ ë…¸ë°” ì„œë²„ <b>ë¯¸ê¶ ë¶€ì¡±</b> ì „ìš© ë„êµ¬ í˜ì´ì§€ì…ë‹ˆë‹¤.</p>
        <ul>
          <li>ğŸ“˜ ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</li>
          <li>ğŸ“Š ì„±ì¥ë¥  ê³„ì‚°ê¸°</li>
          <li>ğŸ¨ ë””ìŠ¤ì½”ë“œ ANSI í…ìŠ¤íŠ¸ ìƒì„±ê¸°</li>
          <li>âš”ï¸ ì „íˆ¬ ì‹œë®¬ë ˆì´í„°</li>
          <li>â­• ì˜¤ëª© AI (ìƒˆ ì°½)</li>
        </ul>
        <p style="margin-top:20px; font-size:14px; color:#9aa;">
          ì œì‘: <b>storazi</b> ï½œ discord : ì§€ì›(sub_bot)
        </p>
      </section>

      <!-- ğŸ¨ ë””ìŠ¤ì½”ë“œ ANSI -->
      <section id="ansiTab" class="tab-content">
        <h2>ğŸ¨ ë””ìŠ¤ì½”ë“œ í…ìŠ¤íŠ¸ ìƒì„±ê¸°</h2>
        <iframe src="./ansi.html"
          width="100%" height="780"
          style="border:none; border-radius:10px; background:#0b1220;"></iframe>
      </section>

      <!-- ğŸ“˜ ê²½í—˜ì¹˜ ê³„ì‚°ê¸° -->
      <section id="expTab" class="tab-content">
        <h2>ğŸ“˜ ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</h2>
        <input id="currentLevel" placeholder="í˜„ì¬ ë ˆë²¨">
        <input id="currentPercent" placeholder="í˜„ì¬ % (ì„ íƒ)">
        <input id="targetLevel" placeholder="ëª©í‘œ ë ˆë²¨">
        <input id="xpPerHour" placeholder="ì‹œê°„ë‹¹ ê²½í—˜ì¹˜ëŸ‰">
        <button id="run">ê³„ì‚°í•˜ê¸°</button>
        <button id="reset">ì´ˆê¸°í™”</button>

        <div id="results" hidden>
          <p>ğŸ“Š í•„ìš” ê²½í—˜ì¹˜: <span id="statRemain">-</span></p>
          <p>â° ì˜ˆìƒ ì‹œê°„: <span id="statHours">-</span></p>
          <p>ğŸ“… ì¼ìˆ˜ í™˜ì‚°: <span id="statDays">-</span></p>
        </div>
      </section>

      <!-- ğŸ“Š ì„±ì¥ë¥  ê³„ì‚°ê¸° (ì™„ì „ í†µí•©ë³¸) -->
      <section id="growthTab" class="tab-content">
        <h2>ğŸ“Š ì„±ì¥ë¥  ê³„ì‚°ê¸°</h2>

        <div class="growth-box">
          <input id="growthName" placeholder="í« ì´ë¦„">
          <input id="growthLevel" type="number" placeholder="ë ˆë²¨">
          <input id="growthHP" type="number" placeholder="HP">
          <input id="growthAtk" type="number" placeholder="Atk">
          <input id="growthDef" type="number" placeholder="Def">
          <input id="growthAgi" type="number" placeholder="Agi">
          <button id="growthRun">ê³„ì‚°í•˜ê¸°</button>
        </div>

        <div id="growthResult" class="growth-table"></div>
      </section>

    </main>
  </div>

  <footer>
    Â© 2025 <strong>storazi</strong>. All rights reserved.<br>
    <img src="https://hits.sh/atorazi.github.io/291.svg?color=f3ff00&labelColor=111ca8">
  </footer>

<script src="./app.js"></script>

<!-- â–¼â–¼ ì„±ì¥ë¥  ê³„ì‚°ê¸° JS ì™„ì „ í†µí•© â–¼â–¼ -->
<script>
async function loadPetDB() {
  const res = await fetch("./data/spet.json");
  return await res.json();
}

function calcStat(init, grow, level) {
  return Math.floor(init + grow * (level - 1));
}

document.getElementById("growthRun").addEventListener("click", async () => {
  const name = growthName.value.trim();
  const level = Number(growthLevel.value);
  const hp = Number(growthHP.value);
  const atk = Number(growthAtk.value);
  const def = Number(growthDef.value);
  const agi = Number(growthAgi.value);

  if (!name || !level) {
    growthResult.innerHTML =
      "<span class='bad'>âŒ í« ì´ë¦„ê³¼ ë ˆë²¨ì€ í•„ìˆ˜ ì…ë ¥ì…ë‹ˆë‹¤.</span>";
    return;
  }

  const db = await loadPetDB();
  const pet = db.find(p => p.name === name);

  if (!pet) {
    growthResult.innerHTML = `<span class='bad'>âŒ '${name}' í« ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>`;
    return;
  }

  const s_hp  = calcStat(pet.init.hp,  pet.grow.hp,  level);
  const s_atk = calcStat(pet.init.atk, pet.grow.atk, level);
  const s_def = calcStat(pet.init.def, pet.grow.def, level);
  const s_agi = calcStat(pet.init.agi, pet.grow.agi, level);

  const d_hp  = hp  - s_hp;
  const d_atk = atk - s_atk;
  const d_def = def - s_def;
  const d_agi = agi - s_agi;

  function fmt(n) {
    if (n > 0) return `<span class='good'>+${n}</span>`;
    if (n < 0) return `<span class='bad'>${n}</span>`;
    return n;
  }

  growthResult.innerHTML = `
ğŸ“Œ <b>${name}</b> / Lv.${level} ì˜ˆìƒ ëŠ¥ë ¥ì¹˜

ğŸ§¬ ì˜ˆìƒì¹˜(Sê¸‰):
- HP : ${s_hp}
- Atk : ${s_atk}
- Def : ${s_def}
- Agi : ${s_agi}

ğŸ§ª ì…ë ¥í•œ ëŠ¥ë ¥ì¹˜ì™€ì˜ í¸ì°¨:
- HP : ${fmt(d_hp)}
- Atk : ${fmt(d_atk)}
- Def : ${fmt(d_def)}
- Agi : ${fmt(d_agi)}
`;
});

/* â–¼ íƒ­ ì „í™˜ ê¸°ëŠ¥ ìœ ì§€ â–¼ */
const tabs = {
  tabHome:"homeTab",
  tabAnsi:"ansiTab",
  tabExp:"expTab",
  tabGrowth:"growthTab"
};

Object.keys(tabs).forEach(key => {
  const btn = document.getElementById(key);
  if (!btn) return;

  btn.addEventListener("click", () => {
    document.querySelectorAll(".tab-content").forEach(t => t.classList.remove("active"));
    document.querySelectorAll(".sidebar button").forEach(b => b.classList.remove("active"));

    document.getElementById(tabs[key]).classList.add("active");
    btn.classList.add("active");
  });
});
</script>

</body>
</html>
